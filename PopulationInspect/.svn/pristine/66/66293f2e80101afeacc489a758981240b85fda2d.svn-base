/**
 * Created by Perfect on 2016/5/7.
 */
// {
//     "loginStatusStr":"Wrong Password.",
//     "police":
//     {
//         "poliId":1,"poliCode":"010001","poliName":"下沙-警员A","poliPass":"pwd123","poliRole":"01","poliPhoto":"","poliDistrict":"","timeLastlogin":"2016-05-09 12:58:17","ipLastlogin":"60.12.8.177","isDeleted":false,"ramark":"","statId":1,"statName":"下沙派出所","poliRoleName":"一般警员"
//     },
//     "loginStatusCode":2
// }

// {
//     "loginStatusStr":"Wrong Password.",
//     "police":
//     {
//         "poliId":2,"poliCode":"100002","poliName":"下沙-所长B","poliPass":"pwd123","poliRole":"10","poliPhoto":"","poliDistrict":"","timeLastlogin":"2016-05-09 13:06:02","ipLastlogin":"60.12.8.177","isDeleted":false,"ramark":"","statId":1,"statName":"下沙派出所","poliRoleName":"派出所所长"
//     },
//     "loginStatusCode":2
// }


function admin(){
	var datas = JSON.parse(storage.getItem('police-info'));
    var adminbox = $('#admin');
    var p = '';
    p += '<img src="'+'images/user.jpg'+'" alt="警员照片">';
    p += '<ul class="admin-info">';
    p += '欢迎您！<span>'+datas.police.poliName+'&nbsp;[<i class="num blue b">'+datas.police.poliCode+'</i>]</span>巡检提醒（<i class="num red-2 b"><a class="num red-2" href="#">'+'1'+'</a>/<a class="num red-2" href="#">'+'15'+'</a>/<a class="num red-2" href="#">'+'50'+'</a></i>）'
    p += '</ul><ul class="admin-web">';
    p += '上一次登陆：<span>'+datas.police.timeLastlogin+'&nbsp;&nbsp;[<i class="blue b">'+datas.police.ipLastlogin+'</i>]</span></ul>';
    adminbox.html(p);
}
//admin(datas);


function createdy(dy_data){
    var tabbox = $('#tab');
    var p = '<ul id="myTab" class="tab-my nav nav-tabs">';
    for (var i = 0; i < dy_data.length; i++) {
        p += '<li><a class="tab-d" href="#dy1" data-toggle="tab">' + dy_data[i].name + '</a></li>';

    }
    p += '</ul>';
    tabbox.prepend(p);
}

function createfloor(floor_data,dy,fl){
    var roombox = $('#roombox'),
        q = "<p>";

    for (var m = 0; m < floor_data[dy].children[fl].children.length; m++) {
        // 有人 未超期 关注
        if(floor_data[fl].children[dy].children[m].personNum>0 &&floor_data[fl].children[dy].children[m].checked && floor_data[fl].children[dy].children[m].focus){

            q += '<button type="button" class="btn-h col-lg-2 col-md-2 col-xs-2 col-sm-2 btn btn-danger">'+floor_data[fl].children[dy].children[m].personNum+'<span class="badge-my badge-danger">'+floor_data[fl].children[dy].children[m].roomNum+'</span></button>';

        //有人 未超期 不关注
        }else if(floor_data[fl].children[dy].children[m].personNum>0 &&floor_data[fl].children[dy].children[m].checked && !(floor_data[fl].children[dy].children.focus)){

            q += '<button type="button" class="btn-h col-lg-2 col-md-2 col-xs-2 col-sm-2 btn btn-success">'+floor_data[fl].children[dy].children[m].personNum+'<span class="badge-my badge-success">'+floor_data[fl].children[dy].children[m].roomNum+'</span></button>';

        //有人 超期 关注
        }else if(floor_data[fl].children[dy].children[m].personNum>0 &&!(floor_data[fl].children[dy].children[m].checked) && floor_data[fl].children[dy].children[m].focus){
            q += '<button type="button" class="btn-h col-lg-2 col-md-2 col-xs-2 col-sm-2 btn btn-danger">'+floor_data[fl].children[dy].children[m].personNum+'<span class="badge-my">'+floor_data[fl].children[dy].children[m].roomNum+'</span></button>';

        //有人 超期 不关注
        }else if(floor_data[fl].children[dy].children[m].personNum>0 &&!(floor_data[fl].children[dy].children[m].checked) && !(floor_data[fl].children[dy].children[m].focus)){

            q += '<button type="button" class="btn-h col-lg-2 col-md-2 col-xs-2 col-sm-2 btn btn-success">'+floor_data[fl].children[dy].children[m].personNum+'<span class="badge-my">'+floor_data[fl].children[dy].children[m].roomNum+'</span></button>';
        // 没人
        }else if(floor_data[fl].children[dy].children[m].personNum==0){

            q += '<button type="button" class="btn-h col-lg-2 col-md-2 col-xs-2 col-sm-2 btn btn-default">'+floor_data[fl].children[dy].children[m].personNum+'<span class="badge-my badge-success">'+floor_data[fl].children[dy].children[m].roomNum+'</span></button>';

        }

    }
    q += '</p>';

    roombox.prepend(q);
}



function createtree20(statName,statId){
    var treebox = $('#tree');
    treebox.html('');
    var p = '<ul class="folder">';
    p += '<li class="building0" id="station" ><a class="m0" href="javascript:void(0)" onclick="treeLevel20('+statId+');getStatisByStat('+statId+')">'+statName+'</a><ul class="subfolder" id="menu1-ul"></li>';
    p += '</ul>';

    treebox.prepend(p);
} 
