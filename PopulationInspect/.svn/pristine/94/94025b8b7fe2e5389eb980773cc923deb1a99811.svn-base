
/**
 * Database Name:ã€€population_inspect
 * System Name
 * @Author XSK 
 * @TIME_LASTINSPECT 20160502 13:46
 * @Version 20160502-01
 */


/**
 * COMMUNITY
 */

DROP TABLE IF EXISTS COMMUNITY;

-- ----------------------------
-- Table structure for community
-- ----------------------------
CREATE TABLE `community` (
  `COMM_ID` int(4) NOT NULL auto_increment,
  `POLI_ID` int(4) default NULL,
  `COMM_NAME` varchar(100) NOT NULL default '',
  `COMM_GPSLIST` varchar(100) default '',
  `IS_DELETED` tinyint(1) NOT NULL default '0',
  `RAMARK` varchar(250) default '',
  PRIMARY KEY  (`COMM_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


/* COMMUNITY INDEX */
CREATE INDEX INDEX_COMMUNITY_POLI_ID ON COMMUNITY(POLI_ID);
CREATE INDEX INDEX_COMMUNITY_COMM_NAME ON COMMUNITY(COMM_NAME);




/**
 * BUILDING
 */

DROP TABLE IF EXISTS BUILDING;
-- ----------------------------
-- Table structure for building
-- ----------------------------
CREATE TABLE `building` (
  `BUIL_ID` int(4) NOT NULL auto_increment,
  `COMM_ID` int(4) default NULL,
  `POLI_ID` int(4) NOT NULL,
  `BUIL_NAME` varchar(100) NOT NULL default '',
  `BUIL_GPSE` float(4,0) default '0',
  `BUIL_GPSN` float(5,0) default '0',
  `BUIL_TYPE` char(4) default '',
  `IS_DELETED` tinyint(1) NOT NULL default '0',
  `RAMARK` varchar(250) default '',
  PRIMARY KEY  (`BUIL_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/* BUILDING INDEX */
CREATE INDEX INDEX_BUILDING_COMM_ID  ON BUILDING(COMM_ID);
CREATE INDEX INDEX_BUILDING_POLI_ID  ON BUILDING(POLI_ID);
CREATE INDEX INDEX_BUILDING_BUIL_NAME  ON BUILDING(BUIL_NAME);
CREATE INDEX INDEX_BUILDING_BUIL_GPS  ON BUILDING(BUIL_GPSE,BUIL_GPSN);
CREATE INDEX INDEX_BUILDING_BUIL_TYPE  ON BUILDING(BUIL_TYPE);



/**
 * ROOM
 */

DROP TABLE IF EXISTS ROOM;
-- ----------------------------
-- Table structure for room
-- ----------------------------
CREATE TABLE `room` (
  `ROOM_ID` int(4) NOT NULL auto_increment,
  `BUIL_ID` int(4) NOT NULL,
  `ROOM_UNIT` tinyint(1) NOT NULL default '0',
  `ROOM_FLOOR` tinyint(1) NOT NULL default '0',
  `ROOM_NO` char(255) NOT NULL default '',
  `ROOM_CLASS` char(255) default '',
  `ROOM_SUBCLASS` char(255) default '',
  `COUNT_INSPECT` tinyint(4) NOT NULL default '0',
  `TIME_LASTINSPECT` datetime default NULL,
  `REC_LASTINSPECT` varchar(255) default '',
  `IS_FOCUS` tinyint(4) default '0',
  `IS_DELETED` tinyint(4) NOT NULL default '0',
  `RAMARK` varchar(255) default '',
  PRIMARY KEY  (`ROOM_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/* ROOM INDEX */

CREATE INDEX INDEX_ROOM_BUIL_ID ON ROOM(BUIL_ID);
CREATE INDEX INDEX_ROOM_ROOM_UNIT ON ROOM(ROOM_UNIT);
CREATE INDEX INDEX_ROOM_ROOM_FLOOR ON ROOM(ROOM_FLOOR);
CREATE INDEX INDEX_ROOM_ROOM_NO ON ROOM(ROOM_NO);
CREATE INDEX INDEX_ROOM_ROOM_CLASS ON ROOM(ROOM_CLASS);
CREATE INDEX INDEX_ROOM_ROOM_SUBCLASS ON ROOM(ROOM_SUBCLASS);


/**
 * PERSON
 */

DROP TABLE IF EXISTS PERSON;
-- ----------------------------
-- Table structure for person
-- ----------------------------
CREATE TABLE `person` (
  `PERS_ID` int(11) NOT NULL auto_increment,
  `ROOM_ID` int(11) NOT NULL,
  `PERS_NAME` varchar(20) NOT NULL default '',
  `PERS_SEX` tinyint(4) default '0',
  `PERS_IDCARD` varchar(18) default '',
  `PERS_PHONE` varchar(100) default '',
  `TIME_REGISTER` datetime default NULL,
  `WHY_REGISTER` char(4) default '',
  `ADDR_CENSUS` varchar(100) default '',
  `ADDR_LIVE` varchar(100) default '',
  `ADDR_WORK` varchar(100) default '',
  `IS_FOCUS` tinyint(4) default '0',
  `IS_DELETED` tinyint(4) NOT NULL default '0',
  `RAMARK` varchar(250) default '',
  PRIMARY KEY  (`PERS_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE INDEX INDEX_PERSON_ROOM_ID ON PERSON(ROOM_ID);
CREATE INDEX INDEX_PERSON_PERS_NAME ON PERSON(PERS_NAME);
CREATE INDEX INDEX_PERSON_PERS_IDCARD ON PERSON(PERS_IDCARD);




/**
 * POLICE
 */

DROP TABLE IF EXISTS POLICE;

-- ----------------------------
-- Table structure for police
-- ----------------------------
CREATE TABLE `police` (
  `POLI_ID` int(4) NOT NULL auto_increment,
  `POLI_CODE` char(6) NOT NULL default '',
  `POLI_NAME` varchar(20) NOT NULL default '',
  `POLI_PASS` varchar(100) default '',
  `POLI_ROLE` char(4) NOT NULL default '',
  `POLI_PHOTO` varchar(100) default '',
  `POLI_OFFICE` char(4) NOT NULL default '',
  `POLI_DISTRICT` varchar(100) NOT NULL default '',
  `TIME_LASTLOGIN` datetime default NULL,
  `IP_LASTLOGIN` varchar(100) default '',
  `IS_DELETED` tinyint(1) NOT NULL default '0',
  `RAMARK` varchar(100) default '',
  PRIMARY KEY  (`POLI_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



CREATE INDEX INDEX_POLICE_POLI_CODE ON POLICE(POLI_CODE);
CREATE INDEX INDEX_POLICE_POLI_NAME ON POLICE(POLI_NAME);
CREATE INDEX INDEX_POLICE_POLI_OFFICE ON POLICE(POLI_OFFICE);



/**
 * INSPECTLOG
 */

DROP TABLE IF EXISTS INSPECTLOG;

-- ----------------------------
-- Table structure for inspectlog
-- ----------------------------
CREATE TABLE `inspectlog` (
  `INSP_ID` int(4) NOT NULL auto_increment,
  `ROOM_ID` int(4) NOT NULL,
  `POLI_ID` int(4) NOT NULL,
  `INSP_TIME` datetime NOT NULL,
  `INSP_REC` varchar(250) default '',
  `RAMARK` varchar(250) default '',
  PRIMARY KEY  (`INSP_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE INDEX INDEX_INSPECTLOG_ROOM_ID ON INSPECTLOG(ROOM_ID);
CREATE INDEX INDEX_INSPECTLOG_POLI_ID ON INSPECTLOG(POLI_ID);
CREATE INDEX INDEX_INSPECTLOG_INSP_REC ON INSPECTLOG(INSP_REC);



/**
 * DICTIONARY
 */

DROP TABLE IF EXISTS DICTIONARY;

-- ----------------------------
-- Table structure for dictionary
-- ----------------------------
CREATE TABLE `dictionary` (
  `DICT_CLASS` varchar(10) NOT NULL,
  `DICT_ITEM` char(4) NOT NULL,
  `ITEM_NAME` varchar(20) NOT NULL,
  `ITEM_NOTE` varchar(250) default NULL,
  `RAMARK` varchar(250) default NULL,
  PRIMARY KEY  (`DICT_CLASS`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE INDEX INDEX_DICTIONARY_DICT_CLASS ON DICTIONARY(DICT_CLASS);
CREATE INDEX INDEX_DICTIONARY_DICT_ITEM ON DICTIONARY(DICT_ITEM);
CREATE INDEX INDEX_DICTIONARY_ITEM_NAME ON DICTIONARY(ITEM_NAME);




/**
 * SYSPARAM
 */

DROP TABLE IF EXISTS SYSPARAM;

-- ----------------------------
-- Table structure for sysparam
-- ----------------------------
CREATE TABLE `sysparam` (
  `PARA_ID` int(11) NOT NULL auto_increment,
  `PARA_NAME` varchar(250) NOT NULL default '',
  `PARA_VALUE` varchar(250) default '',
  `RAMARK` varchar(250) default '',
  PRIMARY KEY  (`PARA_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE INDEX INDEX_SYSPARAM_PARA_NAME ON SYSPARAM(PARA_NAME);

